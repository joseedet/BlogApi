@inject NavigationManager Nav

@if (Visible)
{
    <div class="menu-notificaciones">
        @if (Notificaciones.Count == 0)
        {
            <p class="vacio">No hay notificaciones</p>
        }
        else
        {
            @foreach (var n in Notificaciones)
            {
                <div class="item">
                    <div class="mensaje">@n.Mensaje</div>
                    <div class="fecha">@n.Fecha.ToString("g")</div>
                </div>
            }
        }

        <button class="ver-todas" @onclick="IrAPanel">Ver todas</button>
    </div>
}

@code {
    [Parameter] public bool Visible { get; set; }
    [Parameter] public List<NotificacionDto> Notificaciones { get; set; } = new();
    [Parameter] public EventCallback OnClose { get; set; }

    void IrAPanel()
    {
        Nav.NavigateTo("/notificaciones");
    }
}